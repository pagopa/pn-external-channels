if ([ -z $1 ]) then
  endpoint="http://localhost:8082/"
else 
  endpoint=$1
fi

if ([ -z $2 ]) then
  xapikey="none"
else 
  xapikey=$2
fi


curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '{"id":"1","idCsv":"8","description":"CSV per invio notifiche 890","columns":"[{\"name\":\"CODICE ATTO\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"actCode\",\"length\":20,\"note\":\"\"},{\"name\":\"DESTINATARIO\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"recipientDenomination\",\"length\":44,\"note\":\"\"},{\"name\":\"PRESSO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"at\",\"length\":44,\"note\":\"\"},{\"name\":\"INDIRIZZO\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"address\",\"defaultAttribute\":\"VIALE EUROPA 175\",\"length\":44,\"note\":\"\"},{\"name\":\"SPECIFICA INDIRIZZO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"addressDetails\",\"length\":44,\"note\":\"\"},{\"name\":\"CAP\",\"required\":\"true\",\"type\":\"paddedInt\",\"messageAttribute\":\"zip\",\"defaultAttribute\":\"00144\",\"length\":5,\"note\":\"\"},{\"name\":\"COMUNE\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"municipality\",\"defaultAttribute\":\"ROMA\",\"length\":35,\"note\":\"\"},{\"name\":\"PROVINCIA\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"province\",\"defaultAttribute\":\"RM\",\"length\":2,\"note\":\"\"},{\"name\":\"MODELLO STAMPA\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"printModel\",\"length\":1,\"note\":\"\"},{\"name\":\"CONTO CORRENTE\",\"required\":\"false\",\"type\":\"paddedInt\",\"messageAttribute\":\"-\",\"defaultAttribute\":\"88888888\",\"length\":12,\"note\":\"\"},{\"name\":\"IMPORTO\",\"required\":\"false\",\"type\":\"currency\",\"messageAttribute\":\"-\",\"defaultAttribute\":\"88,88\",\"length\":10,\"note\":\"\"},{\"name\":\"SPESE NOTIFICA\",\"required\":\"false\",\"type\":\"currency\",\"messageAttribute\":\"-\",\"length\":10,\"note\":\"\"},{\"name\":\"IMPORTO DOPO 60GG\",\"required\":\"false\",\"type\":\"currency\",\"messageAttribute\":\"-\",\"length\":10,\"note\":\"\"},{\"name\":\"CODICE OBBLIGAZIONE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"-\",\"defaultAttribute\":\"Ob1\",\"length\":18,\"note\":\"\"},{\"name\":\"CF DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"recipientTaxId\",\"defaultAttribute\":\"RSSMRA70A01H501S\",\"length\":16,\"note\":\"\"},{\"name\":\"PEC DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"pecAddress\",\"length\":161,\"note\":\"\"},{\"name\":\"NUMERO CRONOLOGICO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"-\",\"defaultAttribute\":\"*AUTOINC*\",\"length\":30,\"note\":\"\"},{\"name\":\"PARTE ISTANTE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"-\",\"length\":250,\"note\":\"\"},{\"name\":\"PROCURATORE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"-\",\"length\":250,\"note\":\"\"},{\"name\":\"UFFICIALE GIUDIZIARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"-\",\"length\":250,\"note\":\"\"},{\"name\":\"ID PEC MITTENTE\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"senderId\",\"length\":10,\"note\":\"\"},{\"name\":\"PEC MITTENTE\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"senderPecAddress\",\"length\":161,\"note\":\"\"},{\"name\":\"ID TEMPLATE GESTORE PEC\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"template\",\"length\":20,\"note\":\"\"},{\"name\":\"VERIFICA DOMICILIO DIGITALE\",\"required\":\"true\",\"type\":\"numeric\",\"messageAttribute\":\"-\",\"defaultAttribute\":\"0\",\"length\":1,\"note\":\"\"},{\"name\":\"IUN\",\"required\":\"true\",\"type\":\"text\",\"messageAttribute\":\"iun\",\"length\":24,\"note\":\"\"}]"}' \
    ""$endpoint"external-channel/test/cassandra/postCsvTemplate"

curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '{"id":"2","idCsv":"4","description":"CSV per ricezione rendicontazioni","columns":"[{\"name\":\"RECORD ID\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"recordId\",\"length\":null,\"note\":\"\"},{\"name\":\"CODICE COMUNICAZIONE DIGITALE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"digitalCommunicationCode\",\"length\":null,\"note\":\"\"},{\"name\":\"CODICE RACCOMANDATA\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"registeredMailCode\",\"length\":null,\"note\":\"\"},{\"name\":\"PROGRESSIVO UTENTE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"userProgressiveNumber\",\"length\":null,\"note\":\"\"},{\"name\":\"NUMERO PROTOCOLLO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"protocolNumber\",\"length\":null,\"note\":\"\"},{\"name\":\"NOMINATIVO DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"receiverDenomination\",\"length\":null,\"note\":\"\"},{\"name\":\"CAP DI RESIDENZA DEL DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"receiverResidencePostalCode\",\"length\":null,\"note\":\"\"},{\"name\":\"COMUNE DI RESIDENZA DEL DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"receiverResidenceCity\",\"length\":null,\"note\":\"\"},{\"name\":\"PROVINCIA DI RESIDENZA DEL NOTIFICATO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"receiverResidenceProvince\",\"length\":null,\"note\":\"\"},{\"name\":\"INDIRIZZO DI RESIDENZA DEL DESTINATARIO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"receiverResidenceAddress\",\"length\":null,\"note\":\"\"},{\"name\":\"TARGA O LINEA TRASPORTI\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"plateOrTransportLine\",\"length\":null,\"note\":\"\"},{\"name\":\"NOME FILE ORIGINE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"originFileName\",\"length\":null,\"note\":\"\"},{\"name\":\"NUMERO TENTATIVO NOTIFICA\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"notificationAttemptNumber\",\"length\":null,\"note\":\"\"},{\"name\":\"PESO EML\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"emlWeight\",\"length\":null,\"note\":\"\"},{\"name\":\"INDIRIZZO PEC\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"pecAddress\",\"length\":null,\"note\":\"\"},{\"name\":\"INDIRIZZO PEC MITTENTE\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"senderPecAddress\",\"length\":null,\"note\":\"\"},{\"name\":\"MESSAGEID\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"messageId\",\"length\":null,\"note\":\"\"},{\"name\":\"TIPOLOGIA ESITO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"resultType\",\"length\":null,\"note\":\"\"},{\"name\":\"MACRO-ESITO\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"resultMacro\",\"length\":null,\"note\":\"\"},{\"name\":\"DATA ESITO DELLA NOTIFICA\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"resultDate\",\"length\":null,\"note\":\"\"},{\"name\":\"ESITO DELLA NOTIFICA\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"result\",\"length\":null,\"note\":\"\"},{\"name\":\"DENOMINAZIONE ESITO DELLA NOTIFICA\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"resultDenomination\",\"length\":null,\"note\":\"\"},{\"name\":\"IUN\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"iun\",\"length\":null,\"note\":\"\"},{\"name\":\"ALLEGATO A\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"attachmentA\",\"length\":null,\"note\":\"\"},{\"name\":\"ALLEGATO B\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"attachmentB\",\"length\":null,\"note\":\"\"},{\"name\":\"ALLEGATO C\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"attachmentC\",\"length\":null,\"note\":\"\"},{\"name\":\"ALLEGATO D\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"attachmentD\",\"length\":null,\"note\":\"\"},{\"name\":\"ALLEGATO E\",\"required\":\"false\",\"type\":\"text\",\"messageAttribute\":\"attachmentE\",\"length\":null,\"note\":\"\"}]"}' \
    ""$endpoint"external-channel/test/cassandra/postCsvTemplate"

curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '[{"code":"52","serviceCode":"PT40","positive":true,"retryable":false},{"code":"54","serviceCode":"V01","positive":false,"retryable":false},{"code":"55","serviceCode":"V02","positive":false,"retryable":false},{"code":"56","serviceCode":"V03","positive":false,"retryable":false},{"code":"57","serviceCode":"V04","positive":false,"retryable":false},{"code":"58","serviceCode":"V05","positive":false,"retryable":false},{"code":"59","serviceCode":"E01","positive":false,"retryable":true},{"code":"60","serviceCode":"A01","positive":false,"retryable":false},{"code":"61","serviceCode":"A02","positive":false,"retryable":false},{"code":"62","serviceCode":"501","positive":false,"retryable":true},{"code":"63","serviceCode":"511","positive":false,"retryable":false},{"code":"64","serviceCode":"521","positive":false,"retryable":false},{"code":"65","serviceCode":"522","positive":false,"retryable":true},{"code":"66","serviceCode":"531","positive":false,"retryable":false},{"code":"67","serviceCode":"541","positive":false,"retryable":true},{"code":"68","serviceCode":"551","positive":false,"retryable":false}]' \
    ""$endpoint"external-channel/test/cassandra/postResultDescriptors"

curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '[{"code":"08","serviceCode":"03","positive":false,"retryable":false},{"code":"01","serviceCode":"03","positive":false,"retryable":false},{"code":"02","serviceCode":"03","positive":false,"retryable":false},{"code":"11","serviceCode":"03","positive":false,"retryable":false},{"code":"07","serviceCode":"03","positive":false,"retryable":false},{"code":"04","serviceCode":"03","positive":false,"retryable":false},{"code":"03","serviceCode":"03","positive":false,"retryable":false},{"code":"06","serviceCode":"03","positive":false,"retryable":false},{"code":"09","serviceCode":"03","positive":false,"retryable":false},{"code":"10","serviceCode":"03","positive":false,"retryable":false},{"code":"05","serviceCode":"03","positive":false,"retryable":false},{"code":"-","serviceCode":"01","positive":true,"retryable":false}]' \
    ""$endpoint"external-channel/test/cassandra/postResultDescriptors"

curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '[{"denomination":"PAGOPA","idPec":"PEC1","pec":"pagopa@pagopa.it"}]' \
    ""$endpoint"external-channel/test/cassandra/postPaPecs"

curl -X POST -H "Content-Type: application/json" -H "x-api-key: "$xapikey"" \
    -d '[{"denomination":"PAGOPA","channel":"DIGITAL","serviceLevel":"PEC","template":"A","printModel":"A"},{"denomination":"PAGOPA","channel":"PAPER","serviceLevel":"SIMPLE_REGISTERED_LETTER","template":"A","printModel":"A"},{"denomination":"PAGOPA","channel":"PAPER","serviceLevel":"REGISTERED_LETTER_890","template":"A","printModel":"A"}]' \
    ""$endpoint"external-channel/test/cassandra/postPaConfigs"


read -n 1 -s -r -p "Press any key to continue"